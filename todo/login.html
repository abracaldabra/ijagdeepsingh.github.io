<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Google integrated todo list</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap-combined.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
  </head>
  <body>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="page-header">
          <h1>Google calendar todo list.</h1>
        </div>
      </div>
      <div class="row-fluid">
        <div class="span4 oauth-button">
        	<a class="btn btn-large btn-block btn-danger" id="login">Sign in with Google</a>
        </div>
      </div>
    </div>
    <script type="text/javascript">
    (function(){

    	var config = {
		    'oauth_url': 'https://accounts.google.com/o/oauth2/auth',
		    'state': '/todo/',
		  	'client_id': '34741868873.apps.googleusercontent.com',
		  	'scope': 'https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email',
		  	'redirect_uri': 'http://localhost/todo/auth.html',
		  	'response_type': 'token', // token or code
		    'approval_prompt': 'force' // force or auto
		  };

		  function getUrl(){
			return config.oauth_url 
			 + '?&state=' + encodeURIComponent(config.state)
			 + '&client_id=' + encodeURIComponent(config.client_id)
			 + '&scope=' + encodeURIComponent(config.scope)
			 + '&redirect_uri=' + encodeURIComponent(config.redirect_uri)
			 + '&response_type=' + encodeURIComponent(config.response_type)
			 + '&approval_prompt=' + encodeURIComponent(config.approval_prompt);
		}

		  var login = document.getElementById('login');
		  	login.href = getUrl();
    })();
    </script>
  </body>
</html>